<p>首先，依旧是nmap<br><img src="./1.png" alt=""><br>只开了80，而且还有厚马<br><img src="./2.png" alt=""><br>先扫一遍目录，扫到了一个moodle<br><img src="./3.png" alt=""><br>百度出来是个cms，漏洞需要先登录进去，那再得找找<br><img src="./4.png" alt=""><br>在gallery里发现一张图片一直没加载出来，下来来看一下<br><img src="./5.png" alt=""><br>f**k，有点脑洞题那味了，hint藏成图片<br><img src="./6.png" alt=""><br>简单爆破密码，登进去，脚本要用的course_d能在修改课程那里的url里找到，如果脚本提示curl_init出错，那多半是curl跟php版本不配套，apt一个匹配的curl就OK。<br>poc拿到www-data的shell，进去看一眼config。<br><img src="./7.png" alt=""><br>那正好，mysql登进去。<br><img src="./8.png" alt=""><br>他的那个phpmyadmin不知道干啥用的，没法访问，数据库里也没东西。<br><img src="./9.png" alt=""><br><img src="./10.png" alt=""><br>拿数据库里的MD5破解一下，用户giovanni密码就是expelled<br><img src="./11.png" alt=""><br>进去home目录下面有一个work文件夹，里面塞了一个奇怪的文件，还有他的备份<br><img src="./16.png" alt=""><br>推测是备份脚本，拿pspy找一下<br><img src="./12.png" alt=""><br><img src="./13.png" alt=""><br>这个就是把work下面所有的设成777,那就不如做个软链接到/root/root.txt，试了下不行，没有访问权限。那就只能老老实实去改/etc/shadow去了。<br><img src="./14.png" alt=""><br>改成和giovanni一样就ok<br><img src="./15.png" alt="">  </p>
